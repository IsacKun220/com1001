#!/usr/bin/env bash

if [ "$USER" = "codio" ]
then
  workspace_dir="/home/codio/workspace/"
  install_dir="${workspace_dir}/com1001/code-examples/.install"
  local_bin="/usr/local/bin"

  # copy scripts
  sudo cp "${install_dir}/sinatra.rb" "${local_bin}/sinatra"
  sudo cp "${install_dir}/kill_ruby" "${local_bin}"
  sudo cp "${install_dir}/reset_gems" "${local_bin}"

  # reset the gems on this box
  reset_gems

  # copy initial .codio file
  cp "${install_dir}/.codio_init" "${workspace_dir}/.codio"
  
  echo "\033[32mEverything successfully installed.\033[0m"
else
  echo "\033[31mThis script is for setting up Codio so that it can run the code examples. You can only run it on Codio.\033[0m"
fi
